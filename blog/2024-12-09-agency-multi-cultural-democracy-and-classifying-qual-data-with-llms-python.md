# Agency, Multi-cultural Democracy, and Classifying Qual Data with LLMs/Python

## Theory and Ideas

### Development as Freedom

- I'm returning to Sen's 'development as freedom' to specifically consider his treatment of agency. An important argument from Elizabeth Wood's account of insurgency in El Salvador is that their *experience of collective action* changed the population's self-conception, raising the *sense of agency*, as well as their *self-conception*. Coming in, I am curious about multiple things:
	1. Are capabilities and agency interchangeable?
	2. Is the subjective notion of self-efficacy (e.g. including socialized notions, such as the Horatio Alger myth) a moderator for capabilities? 
		- I may be objectively capable, but systematically do not utilize the capability if I *view myself* as incapable. 
		- Action has three categories of consequence related to capabilities, changes to internal capacity, changes to external capacities, and utility payoffs: 
			- **Internal capacity**: is a variety of internal processes such as skill, tacit/explicit knowledge, and self-conception as a result of action. This can be positive (higher self-efficacy) or lower (discouragement / incorrect knowledge).
			- **External capacity**: is the change in externally mediated capacities as a result of pay-off

### Future of Multicultural Democracy (Journal of Democracy Issue)

#### 1. Majoritarianism without majorities [@Chandra_2024_FutureMultiracialDemocracy] 


- **Main Argument**: Chandra argues in JoD 2024 issue that viewing democracy as majoritarian rule incentivizes the conglomeration of minorities into larger groupings to reach a majority -- this initially causes 'majoritarian nationalists' which is a grouping of minorities which claim a common ethnicity.  Fundamentally, she argues that democracy should frame itself as *minority rule*.
	- **Majorities(arians) with a minority complex** ‚Äì These 'majoritarians' fear being replaced by ethnic change. Additionally, ethnic identity (e.g. Italians in the US were once seen as non-protestant minorities, who a protestant majority feared and combatted politically). Demographic threat inflames ethnic majoritarianism (i.e. ethnical nationally) and democratic backsliding. This backsliding is especially clear using maximalist definitions of democracy, as minority rights.
	- **Constructed majorities** -- these majorities are often (always?) an agglomeration of minority groups which claim a common supra-ethnicity or race. For example, 'white' in the case of America typically includes Italians, despite Catholics/Italians being seen as separate previously. 
	- **Censuses drive identity formation, not education (alone)** -- groups are inherently multidimensional and poorly defined. They are also not *legible* to their members intrinsically. *Censuses* are what drive the conglomeration of minority groups into a majority, and create this 'majority with a minority complex' dynamics.
	- **Democracy drives the *political* construction of majorities**: Without democracy, being part of a majority has much less utility. For much of human history, people attempted *not* to be associated with the (rude and unwashed) masses. Instead, they sought whatever identity lead to benefit.
	- **Immigrant and natives** -- become a salient dividing line in politics, where different immigrants are viewed as political threats or opportunities depending on the policy positions and expected voting disposition of the immigrants (among other things, such as economic effects and labor competition; perceived cultural fit, etc.).
	- **Democracy and ethnocracy go together**: Because democracy drives the formation of (ethnic) 'majorities' which can compete politically, thus driving a majoritarian outlook. This is perhaps the boldest claim.
	- **Manufacturing majorities, through violent/othering rhetoric** Because majoritarianism is difficult, it relies on violence and 'othering' outsiders to establish. This is akin to promoting nationalism through *negative national sentiment* (see @Alesina_2020_NationbuildingNationalismWars). 
- **Chandra' solution -- Redefine Democracy as Minority Protecting**: To reduce the fear of political loss (and therefore the driver of majorities(ians) with a minority complex), we need focus democracies on strengthening minority protection and *accept* that majorities are primarily manufactured for and by *political means* by multiple minority groups. And interpreted through censuses (e.g. category of 'white' on the US census). Similarly, BJP in India draws supporters from a highly diverse set of hindus without India.

#### 2. Who decides who is Democratic [@Przeworski_2024_WhoDecidesWhat]

- This short (11pg!) paper is full of distilled ideas on defining conceptions of democracy, and how 'slippery' the term is to operationalize. The heart of the essay is that minimal, 'electoralism' definitions of democracy, actually rely on a richer set of assumptions (inadvertently maximalist). Yet, recognizing this, and moving towards a maximalist approach presents a [stopping problem](https://en.wikipedia.org/wiki/Optimal_stopping), where 'true' democracy becomes almost impossible to reach. 
	- **Democracy as a Process or Embodiment of Values**: The two 'poles' of democratic minimalism (thin) vs. democratic maximalism (thick) are determined by whether democracy is a process for *resolving* political conflicts, or requires *embodying* certain values (e.g. minority protection, freedoms, etc.). 
		- A minimal (thin) definition of democracy requires only that citizens decide by who and how they will be governed. Any answer they provide is inherently democratic. Whether something is democratic is Democracy as a Process or Embodiment of Values|process oriented, rather than the embodiment of values. 
		- Naturally, maximal (thick) definitions of democracy are inverse. However, Przeworski argues that maximalist definitions of democracy are prompted by a clear weakness of minimal democracy: a *process* has many requirements, such as the free flow of information, adequate information, fair electoral and political competition, and lack of duress. However, attempting to define democracy in maximalist terms also present a stopping problem. You can always justify adding more requirements to democracy (media freedom, freedom of movement, electoral safeguards). However, 
	- **Everyone claims democracy**: Everyone (including non-democrats) claim to be democratic. No one claims to be a fascist, even if they agree with some of its *content*. And communism is often defended on *democratic* grounds  (e.g. Xi Jingping' '[whole process people's democracy](http://en.moj.gov.cn/2024-03/05/c_967573.htm)').
	- **More subtly, anti-liberal groups claim minimal democracy**: many newer right-wing parties (which are viewed as anti-democracy from a maximalist vantage) have generally shied away from impinging on electoral process. Rather, they have implemented laws which are *anti-pluralist*, such as France severely restricting the rights of noncitizens in France. yet, these laws are widely supported (pg 5). Are these undemocratic or simply xenophobic?
		- A thornier point is whether democracy is invested in the people of today, or in the values embedded in an institution. For instance, the Indian constitution enshrines *equality* of all religions. However, the majority of people *today* may welcome discrimination. Are judges acting undemocratically to strike down laws with majority support? The requirement for super-majorities to change constitutions is, arguably, quite undemocratic, especially if the requirement is exorbitant (imagine a 95% requirement to purge a constitutional amendment which benefited 10% of the population).
	- **Populism is dissatisfaction with representative institutions**: Populism arises when people feel poorly represented. Populism has two forms, participatory populism and delegative populism. Participatory is good-to-benign, but ‚âàineffective (little evidence given). While delegative populism is a 'by any means necessary' delegation, which is antithetical to the norms and institutional safeguards protecting maximalist democracy, or 'liberal democracy', functioning.
		- **Participatory populism** is ensuring the 'voice of the people' is incorporated into political processes *beyond* elections. For instance, through shorter terms, participatory institutions at the local level, etc. Here, the idea is to *increase the institutional surface area* between the people and institutions (e.g. participatory budgeting in Brazil). 
		- **Delegative populism** is to ensure that the 'will of the people' is enacted *no matter what*, even if it means breaking norms or institutional safeguards. For instance, packing the courts, breaking political norms (e.g. independence of the fed / FBI), or skirting constitutionally enshrined *values*.
	- **Delegative populism** will often be tasked *by a majority* with destroying the foundations of democracy itself (at least liberal, though not limited to). However, if they avoid destroying *democratic* institutions, and instead focus on institutions which stymie the will of the public, they are not inherently illiberal (e.g. a reformer could fix corruption).
	- **Delegative (illiberal) populism is driven by 'magicians'**: These are individuals claiming to be saviors (e.g. I alone...). They promise strength against the systems people have grown to distrust.
		- *The emergence of political magicians is also not antidemocratic. It  just shows that when people become fed up with the established alternatives, they are willing to take the risk of embracing untried solutions.* (pg 11)
	- Przeworksi goes back to defending elections themselves. 
		- **Precaution**: Elections, beyond any specific policy, allow for removal of governments at a later date. Supporters should not trade elections for even the best (?) temporary policy.
		- **Pacification**: if electoral conflict exists, it obviates much of the the need for arms. Other systems can solve political problems, but elections are the only which are available to *all* citizens.
			- *In Norberto Bobbio's words, 
>				"What is democracy other than a set of rules . . . for the solution   of conflicts without bloodshed?"
	- **Minimalism unites, maximalism divides**: It is easy to be *against* backsliding, but very hard to coalesce around a single policy alternative. This is a fundamental asymmetry which, ironically, Przeworski claims can only be solved through elections (minimalist?).

## Tooling

### Python to ipynb

- **Connecting py to ipynb run on the cloud**
	- In using kaggle problems to learn about machine learning, I wanted to connect my local nvim environment to Kaggle's notebook (a slighty modified ipynb) and cloud compute resource. 
	- The easiest solution was to use **jupytext** to connect a py and ipynb of the notebook, which mirror the ipynb on Kaggle. I then used a makefile to automate the 3 main steps: 1) sync my py to my local ipynb, 2) to sync this with Kaggle via their API, and 3) to update this all to a git so the projects are saved.
		- Mirroring Kaggle's cloud file structure is slightly complicated. I used the following to adjust for our different environments, while keeping everything else the same:  

		```python
		if os.path.exists("/kaggle/input/titanic/"):     
			DATA_PATH = "/kaggle/input/titanic/" 
		  else:    
		   DATA_PATH = "./kaggle/input/titanic/"  
		```

### Python Programming: Qual-to-Quant data Classifier, using Ollama
- Prototyped a Qual-to-Quant data Classifier, using Ollama which categorizes structured, qualitative text. 
	- **[Ollama](https://ollama.com/)** allows me to run open-source LLM models locally. This is super useful for prototyping, without the cost or hassle of calling enterprise models via an API. I'm using a llama3.2, 3B parameter model which runs fairly quickly on a m1 Mac. 
		- Ollama has a **python package** which allows you to modify its parameters in a structured fashion, especially for multiple calls (rather than going through the terminal). 
		- However, the ollama python package requires the ollama app to be running on your machine locally, and also is only installable via pip (the Conda version package seems no longer supported).
	- I generated a test dataset to categorize food to ethnic cuisines, which worked well.
	- I also added a 'clarification' loop, where  you can clarifying coding that was incorrect (by providing additional rules or information.). This worked well if I was extremely specific (e.g. Pad Thai is American), but not if I attempted to introduce a logic (e.g. switch the categorization for all Italian and Thai foods).
	- **Refinement / testing**: 
		- Test this on social-science relevant dataset (ACLED MMR?)
		- Connect this to an enterprise model (Gemini - for the very long context or Claude - most sophisticated text analysis?)
	- **Major next step**: is to build a program which takes *unstructured* qualitative data and breaks it down into logical 'pieces'. I will likely start with plain text, then introduce extracting plain text from a pdf.

### Generative AI samples which generalize to human populations?

A recent arxiv paper by @Park_2024_GenerativeAgentSimulations, [Generative Agent Simulations of 1,000 People](https://arxiv.org/abs/2411.10109), claims that LLMs can be used to fairly reliably approximate the distribution of a sample from true human populations. They claim to correctly model minority groups, and, surprisingly, to be able to replicate responses reliably over time (85% as well as humans). A recurring tension with AI is whether they need to be good, or simply better than human alternatives. Humans are notoriously unreliable when answering questions over time (or driving), so how much better, if at all, should we expect AI to be?

### Misc
- [Playing to Win](https://fs.blog/playing-to-win-how-strategy-really-works/): **playing to play vs. playing to win** is described in the as clearly stating 'win conditions' and creating a strategy from there. Most companies merely look at existing patterns and build their strategy. However, they never check to ensure it will *actually* get them to their desired goal.
- Experimented with making a [JS application meant to develop an intuition for the relationship between major trig functions](https://kamranhakiman.com/trig_viz_prototype/) around the unit circle
	- ChatGPT's o1-mini worked well, but required about 8 prompts. It was often faster to make small changes directly in the JS rather than work with it to make small adjustments.
	- Unlike Claude, it's not able to run the application as an 'artifact'
	- Being able to 'read' the code was more important than understanding the syntax. As the llms make syntax translation/correction almost obsolete (at least for basic projects).
- Reviewing Derivative Rules:
	**Chain rule** $$f'(x)=\frac{d}{dx}(g(h(x)))=g'(x)h(x)\cdot g(x)h'(x)$$
	- **Product rule**: $$f'(x) = \frac{d}{dx}g(x)h(x) = g'(x)h(x)+g(x)h'(x)$$ 
		- the chain rule, but with a + instead of ‚Ä¢
	- **Quotient Rule**: $$f'(x)=\frac{d}{dx}\frac{g(x)}{h(x)}=\frac{g'(x)h(x)-g(x)h'(x)}{(h(x))^2}$$ 
		- the product rule but subtracting and, and divided by *denominator* function squared: $$(h(x))^2$$
	- **Addition / subtraction are simple** -- no manipulation besides the basic derivative pattern needed. aka: $$f‚Äô(x) = \frac{d}{dx}g(x)\pm h(x)=g‚Äô(x) \pm h‚Äô(x)$$
	- **Constants outside of the functions are unaffected by derivation** (they simply multiply into the derivations)
	- Trig identities for derivation
		- $$\frac{d}{dx}cos(x) = -sin(x)$$
		-  $$\frac{d}{dx}sin(x) = cos(x)$$
		- $$\frac{d}{dx}tan(x) = sec^2(x)$$

		- (as review, cos = is x coord of unit circle, sin is y, tan is sin/cos.)

			!Screenshot 2024-12-05 at 10.49.11.png|300
		- **secant a line touches a curve at two** (or more?) points. 
		- **Tangent only touches at one**. 
			- The tangent point can be found with the FOD. So the tangent is at the max/min.
			- **If the SOD is negative, then it is a local maximum**, 
			- **if it is positive, then it is a local minimum**.

---